{"componentChunkName":"component---src-templates-blog-post-js","path":"/creating-drafts-in-gatsby-blog/","result":{"data":{"site":{"siteMetadata":{"title":"bhansa's blog"}},"markdownRemark":{"id":"3b91da64-78eb-509b-941c-6a918b14b001","excerpt":"Photo by Andrew Neel on Unsplash You have created your new blog and have many ideas for blog posts already. You probably will create a list of blog post titles…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQDBQb/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABlrWHDc+MhX//xAAbEAABBAMAAAAAAAAAAAAAAAACAAQREgEUMv/aAAgBAQABBQID2GxAasmHDgYVJz//xAAXEQADAQAAAAAAAAAAAAAAAAAAARIh/9oACAEDAQE/AVpDP//EABcRAAMBAAAAAAAAAAAAAAAAAAABEiH/2gAIAQIBAT8BeFo//8QAHRAAAgEEAwAAAAAAAAAAAAAAAAECERIicSExgf/aAAgBAQAGPwKbueiq5Oib8EoYaMj/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMVHR/9oACAEBAAE/IUoN0cfIiwB2yNGmjBXv4ldOiEN0mXyf/9oADAMBAAIAAwAAABCnL//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEVH/2gAIAQMBAT8QIsuV/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBo27X/xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhMYHB/9oACAEBAAE/EJYMRGB0eFp9wGKdhkfMdVAxM2laEtklwZoSzB2dPceEO0G3mf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image shows draft process by andrew neel\"\n        title=\"image shows draft process by andrew neel\"\n        src=\"/blog/static/39dac58872f98763dcbb4965aa470eed/1c72d/andrew-neel-cckf4TsHAuw-unsplash.jpg\"\n        srcset=\"/blog/static/39dac58872f98763dcbb4965aa470eed/a80bd/andrew-neel-cckf4TsHAuw-unsplash.jpg 148w,\n/blog/static/39dac58872f98763dcbb4965aa470eed/1c91a/andrew-neel-cckf4TsHAuw-unsplash.jpg 295w,\n/blog/static/39dac58872f98763dcbb4965aa470eed/1c72d/andrew-neel-cckf4TsHAuw-unsplash.jpg 590w,\n/blog/static/39dac58872f98763dcbb4965aa470eed/c08c5/andrew-neel-cckf4TsHAuw-unsplash.jpg 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n<span>Photo by <a href=\"https://unsplash.com/@andrewtneel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Andrew Neel</a> on <a href=\"https://unsplash.com/s/photos/draft?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span></p>\n<p>You have created your new blog and have many ideas for blog posts already. You probably will create a list of blog post titles or some drafts directly in your project so that you can work on them later.</p>\n<p>While you were writing a blog post you got another title in your mind to write, You abandoned the current article and moved to write a new one.</p>\n<p>Now let’s say that you have finished one of them already and want to publish it, if you are using <code class=\"language-text\">gh-pages</code> and deploying using <code class=\"language-text\">npm run deploy</code>, assuming your package.json contains <code class=\"language-text\">&quot;deploy&quot;: &quot;gatsby build --prefix-paths &amp;&amp; gh-pages -d public&quot;</code>.</p>\n<p>It may deploy the unfinished posts as well.</p>\n<p>So what if You want to keep few posts hidden while they are still under process or development.</p>\n<p>One simple way is to use the markdown <strong>frontmatter</strong>, you can add an extra key value pair in your markdown file.</p>\n<p>Example:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token hr punctuation\">---</span>\ntitle: <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>\ndate: <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>date</span><span class=\"token punctuation\">></span></span>\ndescription: <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>desc</span><span class=\"token punctuation\">></span></span>\n<span class=\"token title important\">draft: true\n<span class=\"token punctuation\">---</span></span></code></pre></div>\n<p>In the above example I added <code class=\"language-text\">draft: true</code> as an extra parameter and I will be using the same while <strong>rendering the DOM</strong>.</p>\n<p>We can fetch the same parameter in our graphql syntax, with other details which are already there.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            draft // I'm here :)\n          }\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>and use it in the render method where we are rendering a list of all blog posts.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title <span class=\"token operator\">||</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>article\n        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span>\n        itemScope\n        itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n        hidden<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>draft<span class=\"token punctuation\">}</span> <span class=\"token comment\">// like this, using `draft` parameter here</span>\n      <span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>h3\n            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n              marginBottom<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link\n              style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> boxShadow<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">none</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n              to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span>\n              itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"url\"</span>\n            <span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>span itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"headline\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>small<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>small<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>section<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>p\n            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n              __html<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> node<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"description\"</span>\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>If you see, I have used <strong><code class=\"language-text\">hidden={node.frontmatter.draft}</code></strong> where <strong>hidden</strong> is a HTML element attribute.</p>\n<p>Here I am only hiding the post from the all blogs list, you can choose to do other things as well, example: not rendering it completely.</p>\n<p>That’s it. Now if you want to work on posts and don’t want to deploy them with other created posts, you can just put <code class=\"language-text\">draft: true</code> in your frontmatter and remove it once it is ready to go live 😃✨</p>","frontmatter":{"title":"Creating draft blog post in Gatsby","date":"September 21, 2020","description":"In this blog post I will talk about a simple way of creating draft blog post in your gatsby site"}}},"pageContext":{"slug":"/creating-drafts-in-gatsby-blog/","previous":{"fields":{"slug":"/creating-a-gatsby-blog-site/"},"frontmatter":{"title":"Creating a Gatsby blog site"}},"next":{"fields":{"slug":"/Creating-a-Covid-tracker-with-Vanilla-JS/"},"frontmatter":{"title":"Creating a Covid tracker with Vanilla JS"}}}},"staticQueryHashes":["2228355622","2841359383"]}